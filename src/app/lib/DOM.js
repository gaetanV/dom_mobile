var DOM;!function(){"use strict";DOM=function(){var a={fps:24},b={mouseup:[],click:[],mousemove:[],mousewheel:[],refresh:[],resize:[]},c=function(a){if(a.touches){var b=a.touches[0];if(a.touch={x:b.pageX,y:b.pageY},a.touches.length>1){var b=a.touches[1];a.touch2={x:b.pageX,y:b.pageY}}}else a.touch={x:a.clientX,y:a.clientY}},d={refresh:function(){for(var a in b.refresh)b.refresh[a]()},click:function(a){c(a);for(var d in b.click)b.click[d](a);return!1},resize:function(a){c(a);for(var d in b.resize)b.resize[d](a);return!1},mousemove:function(a){c(a);for(var d in b.mousemove)b.mousemove[d](a)},mousewheel:function(a){c(a);for(var d in b.mousewheel)b.mousewheel[d](a)},mouseup:function(a){for(var c in b.mouseup)b.mouseup[c](a)}};return setInterval(d.refresh,a.fps),window.addEventListener("resize",d.resize),document.addEventListener(/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",d.mousewheel),"ontouchstart"in window||navigator.maxTouchPoints?(document.addEventListener("touchstart",d.click),document.addEventListener("touchmove",d.mousemove),document.addEventListener("touchend",d.mouseup),document.addEventListener("touchleave",d.mouseup)):(document.addEventListener("mousedown",d.click),document.addEventListener("mousemove",d.mousemove),document.addEventListener("mouseup",d.mouseup),document.addEventListener("mouseout",function(a){null==a.toElement&&null==a.relatedTarget&&d.mouseup(a)})),{extendDOM:function(a){"undefined"!=typeof jQuery&&jQuery.fn.extend(a);for(var b in a)HTMLElement.prototype[b]=a[b]},extendEVENT:function(a){for(var c in a)switch(c){default:throw c+" is not a known extendEVENT";case"click":b.click.push(a[c]);break;case"mouseup":b.mouseup.push(a[c]);break;case"mousemove":b.mousemove.push(a[c]);break;case"mousewheel":b.mousewheel.push(a[c]);break;case"refresh":b.refresh.push(a[c]);break;case"resize":b.resize.push(a[c])}},selection:function(a){if(a){var b=document.querySelector("*");b.style.MozUserSelect="text",b.style.webkitUserSelect="text",b.style.oUserSelect="text",b.style.khtmlUserSelect="text",b.style.msUserSelect="text",b.style.userSelect="text"}else{var b=document.querySelector("*");b.style.MozUserSelect="none",b.style.webkitUserSelect="none",b.style.oUserSelect="none",b.style.khtmlUserSelect="none",b.style.msUserSelect="none",b.style.userSelect="none"}}}}(),DOM.selection(!1)}(),function(){"use strict";DOM.extendDOM({toNatif:function(){return"undefined"!=typeof jQuery&&this instanceof jQuery?this[0]:this},getTransform:function(){var a=window.getComputedStyle(this.toNatif()),b=0,c=0,d=a.transform;if("none"!==d){var e=/\((.*)\)/,f=e.exec(d),g=f[1].split(",");b=parseInt(g[4]),c=parseInt(g[5])}return{x:b,y:c}},inPage:function(){var a=this.toNatif();return a!==document.body&&document.body.contains(a)},getOffset:function(){var a=this.toNatif(),b=a.getBoundingClientRect(),c=window.getComputedStyle(a),d=parseInt(c.paddingTop,10),e=parseInt(c.paddingBottom,10),f=parseInt(c.paddingLeft,10),g=parseInt(c.paddingRight,10),h=a.clientHeight,i=parseInt(c.marginTop,10),j=parseInt(c.borderTopWidth,10);h+=i+j,h+=parseInt(c.borderBottomWidth,10),h+=parseInt(c.marginBottom,10);var k=a.clientWidth;k+=parseInt(c.marginRight,10),k+=parseInt(c.borderRightWidth,10);var l=parseInt(c.marginLeft,10),m=parseInt(c.borderLeftWidth,10);return k+=m+l,{left:b.left+window.scrollX-l,top:b.top+window.scrollY-i,outer:{height:h,width:k},inner:{height:a.clientHeight-(d+e),width:a.clientWidth-(g+f)}}}}),HTMLElement.prototype.removeClass=function(a){if("string"==typeof a){a=a.trim();var b,c,d;d=a.split(" "),c=this.className.split(" ");for(var e=0;e<d.length;e++){var f=d[e];b=c.indexOf(f),b!==-1&&c.splice(b,1)}return this.className=c.join(" "),!0}return!1},HTMLElement.prototype.addClass=function(a){if("string"==typeof a){a=a.trim();var b,c;b=this.className?this.className.split(" "):[],c=a.split(" ");for(var d=0;d<c.length;d++){var e=c[d];b.indexOf(e)===-1&&b.push(e)}return this.className=b.join(" "),!0}return!1}}(),function(){"use strict";var a=function(a,b,c,d){var e=[1,0,0,1,0,0],f=performance.now(),g=window.getComputedStyle(a),h=g.transform;if("none"!=h){var i=/\((.*)\)/.exec(h);e=i[1].split(",")}this.matrix=e,this.timeStart=f,this.timeEnd=f,this.speed=c,this.dom=a,this.css={transitionDuration:g.transitionDuration,transitionProperty:g.transitionProperty,transitionDelay:g.transitionDelay},a.style.transition="none";var j=a.getTransform(),k=parseInt(a.style.left),l=parseInt(a.style.top);0===j.y&&0===j.x||(a.offsetHeight,0!==j.y&&(a.style.top=l+j.y+"px"),0!==j.x&&(a.style.left=k+j.x+"px")),this.css.left=g.left,this.css.top=g.top,this.transform={start:{x:0,y:0},end:{x:0,y:0}},this.pos={start:{x:k,y:l},end:{x:k,y:l}},this.way=b,this.callback=d,this.refresh=!1},b=!1;DOM.extendDOM({move:function(c,d,e){var f=this.toNatif();b=new a(f,c,d,e)}}),DOM.extendEVENT({refresh:function(){if(b){var a=b;if(a.refresh){var c=a.refresh.touch,d=0,e=0;switch(a.way){case"-x":d+=(a.mouse.x-c.x)*a.speed;break;case"x":d-=(a.mouse.x-c.x)*a.speed;break;case"-y":e+=(a.mouse.y-c.y)*a.speed;break;case"y":e-=(a.mouse.y-c.y)*a.speed;break;case"xy":d-=(a.mouse.x-c.x)*a.speed,e-=(a.mouse.y-c.y)*a.speed}a.transform.end={y:e,x:d},a.dom.style.transform="matrix("+a.matrix[0]+","+a.matrix[1]+","+a.matrix[2]+","+a.matrix[3]+", "+d+", "+e+")",a.refresh=!1}}},mousemove:function(a){b&&(b.mouse||(b.mouse=a.touch),b.refresh=a)},mouseup:function(a){b&&c.stopDragAndDrop()}});var c={stopDragAndDrop:function(){b.pos.end={x:parseInt(b.css.left)+b.transform.end.x,y:parseInt(b.css.top)+b.transform.end.y},b.timeEnd=performance.now();var a=window.getComputedStyle(b.dom);b.dom.style.transform="matrix("+b.matrix[0]+","+b.matrix[1]+","+b.matrix[2]+","+b.matrix[3]+",0,0)","absolute"!=a.position&&"fixed"!=a.position&&"relative"!=a.position||("auto"==b.css.top&&(b.css.top=b.dom.getOffset().top),"auto"==b.css.left&&(b.css.left=b.dom.getOffset().left),b.dom.style.top=parseInt(b.css.top)+b.transform.end.y+"px",b.dom.style.left=parseInt(b.css.left)+b.transform.end.x+"px");var c=b.timeEnd-b.timeStart,d=Math.abs(b.transform.end.x),e=Math.abs(b.transform.end.y);b.vitesse={x:1/(1*c/d),y:1/(1*c/e)},b.dom.offsetHeight,b.dom.style.transitionDuration=b.css.transitionDuration,b.dom.style.transitionProperty=b.css.transitionProperty,b.dom.style.transitionDelay=b.css.transitionDelay,b.callback(b),b=!1}}}(),function(){"use strict";var a=!1,b=!1,c="data-touchevent",d={timeLongclick:400,timeDbclick:200,debug:!1},e=!1,f={x:window.innerWidth,y:window.innerHeight},g=function(b){this.etat="init",this.target=b.target,this.timeStart=performance.now(),this.mouseStart=b.touch,this.mouseEnd=b.touch,this.mouseStart2=!1,this.mouseEnd2=!1,this.vitesse={x:0,y:0},this.origin=b.target,a&&clearTimeout(a)},h=function(a){d.debug&&console.log(a)},i=function(a,b){for(;null!==a;){if(a[c]&&"function"==typeof a[c][b])return a;var a=a.parentNode}return!1};DOM.extendDOM({touchevent:function(a,d){var e=this.toNatif(),f=function(a,b){if("function"!=typeof b)throw"callback need to be a function";if(!e.inPage())throw"We can't register a event on a dom not in body";if(e[c]||(e[c]={}),e[c][a])throw"Event "+a+" is already defined";e[c][a]=b};switch(a){default:throw a+"is not a known event try touchX or touchY";case"click":f("click",d);break;case"longclick":f("longclick",d);break;case"longclickup":f("longclickup",d);break;case"touchX":f("touchX",d);break;case"touchY":f("touchY",d);break;case"dbclick":f("dbclick",d);break;case"scrollUp":f("scrollUp",d);break;case"scrollDown":f("scrollDown",d);break;case"resizeX":f("resizeX",d),e.addClass("resizeX");break;case"resizeY":f("resizeY",d),e.addClass("resizeY");break;case"zoom":f("zoom",d);break;case"DEBUG":b=d}}}),DOM.extendEVENT({resize:function(a){var b={x:window.innerWidth,y:window.innerHeight};if(b.x!==f.x){f.x=b.x;for(var d=document.querySelectorAll(".resizeX"),e=0;e<d.length;e++){var g=d[e];g[c]&&"function"==typeof g[c].resizeX&&g[c].resizeX(a)}}if(b.y!==f.y){f.y=b.y;for(var d=document.querySelectorAll(".resizeY"),e=0;e<d.length;e++){var g=d[e];g[c]&&"function"==typeof g[c].resizeY&&g[c].resizeY(a)}}},click:function(b){e?("waitclick"===e.etat&&j.stopDbClick(),"init"===e.etat&&b.touch&&(e.etat="multitouch")):(h("init"),e=new g(b),e.timeout&&clearTimeout(e.timeout),a=setTimeout(function(){j.startLongClick()},d.timeLongclick))},mousemove:function(a){if(e){if("init"===e.etat&&(Math.abs(a.touch.x-e.mouseStart.x)>4||Math.abs(a.clientY-e.mouseStart.y)>4)&&j.stopFindYourWay(a),"multitouch"!==e.etat&&"zoom"!==e.etat||(e.mouseEnd=a.touch,e.mouseEnd2=a.touch2,e.mouseStart2||(e.mouseStart=a.touch,e.mouseStart2=a.touch2,e.d1=Math.sqrt(Math.pow(e.mouseStart.x-e.mouseStart2.x,2)+Math.pow(e.mouseStart.x-e.mouseStart2.x,2)))),"multitouch"===e.etat&&a.touch&&a.touch2){var b=i(e.target,"zoom");b&&(e.etat="zoom",e.target=b)}"zoom"===e.etat&&j.sendZoom()}},mouseup:function(b){if(e)switch(e.etat){default:h("event end by mouseup"),e=!1;break;case"multitouch":e=!1;break;case"waitlongclick":j.stopLongClick();break;case"init":var c=i(e.target,"dbclick");c?(h("waitclick"),e.etat="waitclick",a&&clearTimeout(a),a=setTimeout(function(){"waitclick"===e.etat&&j.stopClick()},d.timeDbclick)):j.stopClick()}},mousewheel:function(a){e||(e=new g(a),e.etat="scroll",a.detail>0?j.stopScrollDown():j.stopScrollUp(),"scrollUp"!==e.etat&&"scrollDown"!==e.etat||a.preventDefault(),e=!1)}});var j={sendZoom:function(){e&&"zoom"===e.etat&&(e.d2=Math.sqrt(Math.pow(e.mouseEnd.x-e.mouseEnd2.x,2)+Math.pow(e.mouseEnd.x-e.mouseEnd2.x,2)),e.target[c].zoom(e))},stopScrollUp:function(){if(e&&"scroll"===e.etat){var a=i(e.target,"scrollUp");a&&(e.target=a,e.etat="scrollUp",a[c].scrollUp(e))}},stopScrollDown:function(){if(e&&"scroll"===e.etat){var a=i(e.target,"scrollDown");a&&(e.target=a,e.etat="scrollDown",a[c].scrollDown(e))}},startLongClick:function(){if(e&&"init"===e.etat){var a=e.target,b=i(e.target,"longclick");b&&(e.etat="waitlongclick",h("waitlongclick"),a[c].longclick(e),e.target=b)}},stopLongClick:function(){if(!e)throw"stopLongClick is call without event";var a=e.target;e.etat="longclick",h("longclick"),a[c]&&"function"==typeof a[c].longclickup&&a[c].longclickup(e),e=!1},stopClick:function(){if(e){if("init"===e.etat||"waitclick"===e.etat){e.etat="click",h("click");var a=e.target,b=i(e.target,"click");b&&a[c].click(e)}e=!1}},stopDbClick:function(){if(e&&"waitclick"===e.etat){e.etat="dbclick",h("dbclick");var a=e.target,b=i(e.target,"dbclick");b&&a[c].dbclick(e),e=!1}},stopFindYourWay:function(a){if(e&&"init"===e.etat){var b=Math.abs(a.touch.x-e.mouseStart.x)>Math.abs(a.touch.y-e.mouseStart.y);if(b){e.etat="moveX",h("moveX");var d=i(a.target,"touchX");d&&d[c].touchX(e)}else{e.etat="moveY",h("moveY");var d=i(a.target,"touchY");d&&d[c].touchY(e)}e=!1}}}}();