<html>
    <head>
        <title>DOM MOBILE</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
          
          <script src="../lib/DOM.js"></script>
          <style>
              
              #test{
                  background: red;
                  padding: 50px;
                  position: absolute;
                  margin: 50px;
                  cursor: pointer;
              }
              #test2{
                  
                     background: white;
                  padding: 50px;
                  border:solid 1px;
                 
                  cursor: pointer;
              }
              </style>
    </head>
    <body>
        Vitesse X
          <div id="vitesseX">
            0
            
        </div>
         Vitesse Y
         <div id="vitesseY">
            0
            
        </div>
        <div id="direction">
            0
            
        </div>
           <div id="test2" onMousedown="longclick(event)">
            LONGCLICK
            
        </div>
        <div id="test" onMousedown="dragAndDrop(event)">
            MOTION TARGET
            
        </div>
       
       <script>




        DOM.selection(false);
        var longclick=function(e){

             var cancel=function(e){} 
            
            
            var callback=function(e){
                switch(e.etat){
                    case "click":
                        break;
                    case "longclickend":
                         e.target.style.background ="white";
                        break;
                    case "longclick":
                        e.target.style.background ="red";
                        break;   
                }
            }
            DOM.onlongclick(e,callback,cancel)
        }
        
         var moveX=function(e){
             function callback(dom){
                 console.log("moveXend");
                 document.querySelector("#vitesseX").innerHTML =dom.vitesse.x;
             }
             DOM.move(document.querySelector("#test"),"x",1,callback);
             document.querySelector("#direction").innerHTML ="moveX";

           
         } 
         var moveY=function(e){
             
            function callback(dom){
                 console.log("moveYend");
                 document.querySelector("#vitesseY").innerHTML =dom.vitesse.y;   
             }
             DOM.move(document.querySelector("#test"),"y",1,callback);
              document.querySelector("#direction").innerHTML ="moveY";
         }
          function dragAndDrop(e){
              console.log("click");
               DOM.findYourWay(e,function(movement){
                      var direction=Math.abs(movement.x)>Math.abs(movement.y);
                      console.log(direction);
                      direction?moveX():moveY();
                  },function(){console.log("cancel");});
            };
        
        </script>
    </body>
</html>
